
require=function e$jscomp$0(t,l,y){function p(e,a){if(!l[e]){if(!t[e]){var h="function"==typeof require&&require;if(!a&&h)return h(e,!0);if(z)return z(e,!0);a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a;}a=l[e]={exports:{}};t[e][0].call(a.exports,function(a){var h=t[e][1][a];return p(h?h:a)},a,a.exports,e$jscomp$0,t,l,y)}return l[e].exports}for(var z="function"==typeof require&&require,q=0;q<y.length;q++)p(y[q]);return p}({"/src/core/modal/modal-window.js":[function(n,t,l){function y(a){var e=document.createElement("div");e.innerHTML=a;return e.childNodes}function p(e){0<a(".modal-outer-wrapper:not([data-loader-modal-wrapper]) .modal-content:visible:not(.modal-content--inline)").length&&z()}function z(){if(!I){N.setAttribute("style","overflow: hidden");var e;if(e=-O().width){N.setAttribute("style","overflow: hidden;margin-right:"+-e+"px");a(".pageHeader__content-firstRow").removeAttr("style");a(".pageHeader__content-secondRow").removeAttr("style");a(".pageHeader__content-settings-atbButton").removeAttr("style");a(".pageHeader__content-settings-account").removeAttr("style");var h=parseInt(a(".pageHeader__content-firstRow").css("padding-right"))+Math.abs(e),l=parseInt(a(".pageHeader__content-secondRow").css("padding-right"))+Math.abs(e),q=parseInt(a(".pageHeader__content-settings-account").css("padding-right"))+Math.abs(e);x&&(h=parseInt(a(".pageHeader__content-firstRow").css("padding-right"))+Math.abs(e/2),l=parseInt(a(".pageHeader__content-secondRow").css("padding-right"))+Math.abs(e/2));0<a(".pageHeader__content-firstRow").length&&a(".pageHeader__content-firstRow").get(0).setAttribute("style","padding-right:"+h+"px !important");0<a(".pageHeader__content-secondRow").length&&a(".pageHeader__content-secondRow").get(0).setAttribute("style","padding-right:"+l+"px !important");u&&(0<a(".pageHeader__content-settings-account").length&&a(".pageHeader__content-settings-account").get(0).setAttribute("style","padding-right:"+q+"px !important"),0<a(".pageHeader__content-settings-atbButton").length&&(e=parseInt(a(".pageHeader__content-settings-atbButton").css("width"))+
Math.abs(e),a(".pageHeader__content-settings-atbButton").get(0).setAttribute("style","width: "+e+"px !important")))}}}function q(l,n){function p(){S();D&&(J.after(D.addClass(d.classes.hidden)).detach(),D=null)}function t(b){a.when(function(b){return a.Deferred(function(a){var c=new Image;c.onload=function(){a.resolve(c)};c.onerror=function(){a.reject()};c.src=b}).promise()}(b.url)).done(function(a){b.done(a)}).fail(function(a,g,d){b.error(a,g,d)})}function u(){v.classList.remove(d.classes.loading)}
function C(a){a.on("mousedown.modal",function(){K=!0}).on("mouseup.modal",function(){K=!1})}function x(b){a("html").addClass("html--modal");if(b){b.preventDefault();var c=a(b.currentTarget),g=c.attr("data-modal-src")||c.attr("href");"undefined"!==typeof c.data("onsite-link")&&e.publish("event-tracking.onsiteclick",{target:c});g&&g!==f.items.src&&(f.items.src=g);"undefined"!==typeof a(b.currentTarget).attr("data-udo-email-notification")&&e.publish("event-tracking.emailnotification",{label:"Benachrichtigung per Mail"});c.is("[data-changebillingaddress-modal-link]")||c.is("[data-changeaddress-modal-link]")||(0<c.parents("[data-udo-track-clicks]").length&&e.publish("track.clicks",c),b.stopPropagation())}E=!0;I||(P=a(window).width());F=document.activeElement;T=window.scrollY;b?(F=document.activeElement,b.preventDefault&&b.preventDefault(),b.target.blur()):f.items={html:d.html,componentName:d.new,src:d.url,type:d.type||"inline",modifiers:d.modifiers||"",loadingModalModifiers:d.loadingModalModifiers||"",replace:d.replace,modalType:d.modalType,replaceOnClose:d.replaceOnClose};d.before_open();H();m=G.appendChild(W.cloneNode(!0));I&&m.classList.add(d.classes.probablyMobile);d.closeOnBgClick&&(m.addEventListener("click",L),m.addEventListener("touchend",L));v=m.querySelector("."+d.classes.modalContent);v.innerText="";v.classList.add(d.classes.loading);a("body").hasClass("page--mondovino")&&v.classList.add(d.classes.loadingMondovino);f.items.loadingModalModifiers&&v.classList.add(f.items.loadingModalModifiers);b=a(v);C(b);if(d.loader)E=!1,A=!0,b={_wrap:m,component:m,self:B,_content:a()},h.push(b),e.publish("modal.track-instance",h);else switch(f.items.type){case"html":r(f.items.html,b);break;case"iframe":r('\x3ciframe style\x3d"background: #fff; max-width:100%;max-height:100%;height:'+(f.items.height?f.items.height:"800px")+";width:"+(f.items.width?f.items.width:"800px")+'" src\x3d"'+f.items.src+'" sandbox\x3d"allow-forms allow-top-navigation allow-scripts allow-same-origin"\x3e\x3c/iframe\x3e',b);break;case"ajax":X(f.items,b);break;case"image":O(f.items,b);break;case"callback":Q.setAttribute("content","width\x3ddevice-width, initial-scale\x3d1, maximum-scale\x3d1, user-scalable\x3d0");r(d.callback(),b);break;case"component":c=a(document).find("#"+f.items.componentName).html();r(c,b);break;case"youtube-video":r('\x3cdiv class\x3d"modal"\x3e\x3cdiv class\x3d"modal__inner"\x3e\x3cdiv class\x3d"modal__video-wrapper"\x3e\x3ciframe class\x3d"modal__video" allow\x3d"fullscreen" frameborder\x3d"0" src\x3d"'+f.items.src+'"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',b);break;default:c=f.items,p(),c.src&&(c=a(c.src),c.length&&(g=c[0].parentNode)&&g.tagName&&(J||(J=a(d.templates.placeholderTemplate)),D=c.after(J).detach().removeClass(d.classes.hidden)),r(D,b))}}function H(){0<a(".modal-outer-wrapper:not([data-quick-modal]) \x3e .modal-background").length||(w=G.appendChild(Y.cloneNode(!0)))}function M(a){d.disableSizing||V.innerHeight()-40<a._content.height()&&a._content.addClass(d.classes.alignTop)}function R(b,c,g){a("html").removeClass("html--modal");if(null!==m||null!==w){if(A){var k=m.parentNode;m.parentNode.removeChild(m);null!=w?w.parentNode&&w.parentNode.removeChild(w):0<a(k).find(".modal-background").length&&a(k).find(".modal-background").first().remove();A=!1;k="unknown";c?k="escape":"undefined"!==typeof b&&(b=b.target,1===a(b).closest(".modal-btn-close").length?k="close-button":a(b).is(".modal-close")?k="cancel-button":a(b).hasClass("modal-container")&&(k="background"));b=m;c=k;h.pop();d.after_close(b,c);a(b).find(".carousel-modal__video-wrapper")&&e.publish("video-modal.closed");g&&g.replaceOnClose&&0<g.replaceOnClose.length&&e.publish("modal.open",{element:null,options:{type:"ajax",url:g.replaceOnClose}});g=f.items.ajaxOnCancel||d.ajaxOnCancel||null;-1!==["escape","close-button","background","cancel-button"].indexOf(k)&&g&&e.publish("modal.open",{element:null,options:{type:"ajax",url:g}});0===h.length&&(N.removeAttribute("style"),a(".pageHeader__content-firstRow").removeAttr("style"),a(".pageHeader__content-secondRow").removeAttr("style"),a(".pageHeader__content-settings-atbButton").removeAttr("style"),a(".pageHeader__content-settings-account").removeAttr("style"),Q.setAttribute("content",Z),e.publish("modal.last-modal-closed"),0<=window.location.href.indexOf("modal\x3dmodal-review-form")&&(window.location.href=window.location.href.replace("modal\x3dmodal-review-form","")))}F&&(a(F).is("[data-add-to-basket]")||a(F).focus());0!==h.length&&U(h)}}function L(b,c,g,f){if(b){var k;0<a(b.target).find("[data-redirect-on-modal-close-url]").length?k=a(b.target):(a(b.target).hasClass("modal-close")||a(b.target).hasClass("icon-cancel"))&&0<a(b.target).parents(".modal-container").find("[data-redirect-on-modal-close-url]").length&&(k=a(b.target).parents(".modal-container"));k&&0<k.length&&(c=k.find("[data-redirect-on-modal-close-url]").first().data("redirect-on-modal-close-url"),window.location.href=c)}if(!E){if(b)if(("undefined"!==typeof a(b.target).attr("data-udo-email-notification")||(a(b.target).hasClass("modal-btn-close")||a(b.target).hasClass("icon-cancel"))&&0<a(b.target).parents(".modal-content").find("[data-udo-email-notification]").length)&&e.publish("event-tracking.emailnotification",{label:"Cancel"}),("undefined"!==typeof a(b.target).attr("data-udo-product-question")||(a(b.target).hasClass("modal-btn-close")||a(b.target).hasClass("icon-cancel"))&&0<a(b.target).parents(".modal-content").find("[data-udo-product-question]").length)&&e.publish("event-tracking.productquestion",{label:"Cancel"}),(a(b.target).hasClass("modal-btn-close")||a(b.target).hasClass("modal-container")||a(b.target).hasClass("icon-cancel"))&&0<a(b.target).parents(".modal-outer-wrapper").find("[data-dynamic-tracking]").length&&e.publish("dynamic-tracking.hidden",a(b.target).parents(".modal-outer-wrapper").find("[data-dynamic-tracking]")),"modal.manual-close"===b.type)b.detail.replace&&p(),R(void 0,g,n);else{if(c=!K){c=b.target;k=a(c);var h=v;!h||k.hasClass("modal-close")||k.parents(".modal-close").length||k.hasClass("modal-container")?(A=!0,b.preventDefault(),p(),c=!0):c!==h&&!a.contains(h,c)&&d.closeOnBgClick&&a.contains(document,c)?(p(),c=!0):c=!1}c?(S(),R(b,g,n)):K=!1}else R(void 0,g,n);q.lastModalToReopen&&(f&&"undefined"!==typeof f.reopenLastModal&&!1===f.reopenLastModal||(q.lastModalToReopen.self.show(),q.lastModalToReopen=void 0))}}function S(){0<a(".modal-content").not(".modal-content--inline").find("[data-reload-after-cancel]").length?location.reload():0<a(".modal-content").not(".modal-content--inline").find("[data-load-after-cancel]").length&&window.location.assign(a(".modal-content").not(".modal-content--inline").find("[data-load-after-cancel]").data("load-after-cancel"))}
function O(a,c){t({url:a.src,error:function(a){a=d.templates.errorTemplate.replace(/REPLACE/gi,a);u();r(a,c)},done:function(a){r(a,c)}})}function X(b,c){z();d.requestAjaxContent({url:b.src,error:function(a){a=d.templates.errorTemplate.replace(/REPLACE/gi,a);u();r(a,c)},done:function(g){var d=g;"undefined"!==typeof g.modal&&(g=g.modal,d=g.html,-1<d.indexOf("data-pagecontent-json-url")&&e.publish("template-handlebars.fetch-page-content",a(d).find("[data-pagecontent-json-url]")),b.replaceOnClose=g.replaceOnClose,n.replaceOnClose=g.replaceOnClose,g.ajaxOnCancel&&(b.ajaxOnCancel=g.ajaxOnCancel),g.modifiers&&(b.modifiers=g.modifiers));-1<d.indexOf("data-payment-script")&&e.publish("atbModal.opened");-1<d.indexOf("data-inline-search")&&e.publish("inline-search.initialize");if(-1<d.indexOf("data-autocomplete")){d=a("\x3cdiv\x3e"+d+"\x3c/div\x3e");g=d.find("[data-autocomplete]");var f=(new Date).getTime();g.each(function(b,c){if(!a(c).get(0).hasAttribute("data-temp-attrs-set")&&""==a(c).val()){b=a(c).attr("name");var d=a(c).attr("id");a(c).attr("data-temp-name",b);a(c).attr("name","tempName"+f);a(c).attr("data-temp-id",d);a(c).attr("id","tempId"+f);a(c).attr("data-temp-attrs-set",!0)}});d=d.html()}r(d,c)}})}function r(b,c){z();c.html(b);0<a(b).find("[data-equal-heights-group]").length&&e.publish("equal-heights.run",c);a(document).trigger("ajaxForm",{$scope:c});"image"===f.items.type&&a(b).wrap(d.templates.imageTemplate);c.addClass(f.items.modifiers);u();A=!0;b=a(d.templates.buttonTemplate);c.append(b);b.find(".visuallyhidden").text(d.text.closeText);b={_wrap:m,component:m,self:B,_content:c};aa(b);e.publish("modal.before-content-init",b);d.init_content(c,B);c.height()>=a(window).height()&&c.addClass("modal-content--tall");U(h);e.publish("modal.track-instance",h)}function ba(b){var c=a(b._content).find(".text-input");setTimeout(function(){if(!a.contains(b._wrap,document.activeElement))if(1===c.length&&"search-pickup-slot"!==c.attr("id")){var d=c.val().length;c.focus();c[0].setSelectionRange(d,d)}else b._content.focus()},1500)}function U(b){var c=b.length,g=b[c-1];if(1<c)for(var e=0;e<c-1;e++)b[e]._content.off("keydown.close");d.closable&&(a(document).off("focusin.modal").on("focusin.modal",function(b){b=b.target;if(b!==g._wrap&&!a.contains(g._wrap,b))return g._content.focus(),!1}),g._content.on("keydown.close",function(a){27===a.keyCode&&(a.preventDefault(),p(),g.self.close(void 0,void 0,!0))}));ba(g);M(g)}function ca(){setTimeout(function(){document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()},0)}function aa(a){h.push(a);d.after_open(a);e.publish("modal.initialise-content",a);ca();setTimeout(function(){E=!1},500)}var f=l||{},d={closeOnBgClick:!0,closable:!0,type:"inline",modalType:"",replace:!1,replaceOnClose:!1,imageRegex:/([^\/\\]+)\.(jpg|jpeg|png|gif|svg)$/i,disableSizing:!1,classes:{alignTop:"modal-content--align-top",hidden:"modal-hide",open:"modal-open",ready:"modal-ready",probablyMobile:"small-viewport",loading:"modal-content--loading",loadingMondovino:"modal-content--loadingMondovino",modalContent:"modal-content"},text:{closeText:translations.message_close_overlay,loadingText:translations.message_loading_content},templates:{loadingTemplate:'\x3cspan class\x3d"modal-loading"\x3eLOADING\x3c/span\x3e',errorTemplate:'\x3cdiv class\x3d"modal__inner"\x3e\x3cdiv class\x3d"modal-error"\x3eREPLACE\x3c/div\x3e\x3c/div\x3e',placeholderTemplate:'\x3cdiv class\x3d"modal-hide"\x3e\x3c/div\x3e',bgTemplate:'\x3cdiv class\x3d"modal-background"\x3e\x3c/div\x3e',buttonTemplate:'\x3cbutton class\x3d"modal-close modal-btn-close"\x3e\x3ci class\x3d"icon-cancel"\x3e\x3c/i\x3e\x3cspan class\x3d"visuallyhidden"\x3e\x3c/span\x3e\x3c/button\x3e',wrapTemplate:'\x3cdiv class\x3d"modal modal-wrap" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"modal-container"\x3e\x3cdiv class\x3d"modal-content" tabindex\x3d"0"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',imageTemplate:'\x3cdiv class\x3d"modal__inner"\x3e\x3cfigure class\x3d"modal-figure modal-image"\x3e\x3c/figure\x3e\x3c/div\x3e'},before_open:function(){},requestAjaxContent:function(b){null!==b.url&&a.request({$srcElement:null,url:b.url,success:function(c,d,e){if(""===c&&200===e.status)E=!1,A=!0,L();else{d=c;(e=void 0!==b.url?b.url.split("#")[1]:!1)&&a("#"+e).remove();var f=a("\x3chtml /\x3e").html(c);e?(d=f.find("#"+e))&&d.length&&(c=d.html()):c=0<f.find("main").length?f.find("main"):d;b.done(c)}},error:function(a,d){console.log("error");switch(a.status){case 404:a=translations.error_404;break;default:a=translations.error_unknown}"timeout"===d&&(a=translations.error_timeout);b.error(a)},timeout:3E4})},after_open:function(){e.publish("modal.after_open.fired");"ajax"===f.items.type&&e.publish("modal.ajax.data.loaded",{url:f.items.src})},after_close:function(){},init_content:function(){}};f.getAttribute&&f.getAttribute("data-modal-after-open")&&(l=f.getAttribute("data-modal-after-open"),window[l]&&(d.after_open=window[l]));a.extend(d,n);d.closable||(d.closeOnBgClick=!1,d.templates.buttonTemplate="");var Y=y(d.templates.bgTemplate)[0],w,W=y(d.templates.wrapTemplate)[0],A=!1,E=!1,m,D,J,F,v,B;return B={init:function(){if(!(a.isEmptyObject(f)||f.getAttribute("data-is-initialized")&&"false"!=f.getAttribute("data-is-initialized"))){var b=f.getAttribute("data-modal-src")||f.getAttribute("href"),c;c=b.match(new RegExp(d.imageRegex))?"image":void 0;e.subscribe("dynamic-pageload.initialize",function(a,b){da.evaluate()});f.items={src:b,type:f.getAttribute("data-modal-type")||c||d.type,modifiers:f.getAttribute("data-modal-modifiers")||d.modifiers||"",loadingModalModifiers:f.getAttribute("data-loading-modal-modifiers")||d.loadingModalModifiers||"",replace:f.getAttribute("data-modal-replace")||d.replace,replaceOnClose:f.getAttribute("data-modal-replace-on-close")||d.replaceOnClose,ajaxOnCancel:f.getAttribute("data-modal-ajax-on-cancel"),modalType:d.modalType};a(f).on("click.modal-window",x);f.setAttribute("data-is-initialized",!0)}},options:d,open:x,close:L,destroy:function(){f.removeEventlistener("click.modal-window",x);h=[];a(f).attr("data-is-initialized",!1)},hide:function(){var b=h.findIndex(function(a){return a.self===B});if(-1!==b)return b=h.splice(b,1)[0],e.publish("modal.track-instance",h),a(w).remove(),a(m).css("display","none"),b},show:function(){H();a(m).css("display","").insertAfter(w);var b={_wrap:m,component:m,self:B,_content:a()};h.push(b);e.publish("modal.track-instance",h)},quickModal:function(a){return'\x3cdiv class\x3d"modal-outer-wrapper modal-outer-wrapper-quick '+a.classes+'" data-quick-modal '+a.attrs+'\x3e\x3cdiv class\x3d"modal-background"\x3e\x3c/div\x3e\x3cdiv class\x3d"modal modal-wrap" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"modal-container"\x3e\x3cdiv class\x3d"modal-content modal__loader-wrapper" tabindex\x3d"0"\x3e\x3cdiv class\x3d"modal-content--inline"\x3e\x3cdiv class\x3d"modal"\x3e'+
a.content+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"}}}var e=n("pubsub-js"),a=n("jquery"),h=[],N=document.documentElement,V=a(window),P=a(window).width();l=n("conduct.js");var H=n("../js/breakpoints"),O=n("../js/measureScrollbar");n("../vendor/classList");var C=navigator.appVersion;n=/android/gi.test(C);var C=/iphone|ipad|ipod/gi.test(C),I=n||C||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),Q=document.querySelector("meta[name\x3dviewport]"),Z=Q.getAttribute("content"),K=!1,T,u,x,da=new l({media_queries:[{query:"screen and (min-width:"+H.min.lg+")",fallback:!1,match:function(){u=!1;setTimeout(function(){p()},500)}},{query:"screen and (min-width: 1570px)",fallback:!1,match:function(){u=!1;x=!0;setTimeout(function(){p()},500)},unmatch:function(){x=!1}},{query:"screen and (max-width:"+H.max.md+")",fallback:!1,match:function(){u=!0;setTimeout(function(){p()},500)}}]}),G=document.createElement("div");G.classList.add("modal-outer-wrapper");if(I){G.classList.add("modal-outer-wrapper--small-viewport");var M=null;a(window).on("resize.modal-windows orientationchange.modal-windows",function(){0<h.length&&(clearTimeout(M),M=setTimeout(function(){a(".modal-container").hasClass("modal-container--modalInside")||a(".modal-container").css("height",window.innerHeight);a(window).width()!==P&&(window.scrollTo(0,T),P=a(window).width())},500))})}l=document.body;l.insertBefore(G,l.firstChild);q.currentModal=function(){return 1>h.length?null:h[h.length-
1]};t.exports=q},{"../js/breakpoints":"/src/core/js/breakpoints.js","../js/measureScrollbar":"/src/core/js/measureScrollbar.js","../vendor/classList":"/src/core/vendor/classList.js","conduct.js":"conduct.js",jquery:"jquery","pubsub-js":"pubsub-js"}]},{},["/src/core/modal/modal-window.js"]);